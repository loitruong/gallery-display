function loiGalleryDisplay(a){function n(){h=100/e+"%",i=$(window).width()/e,clearInterval(g),$("#loiGalleryDisplay .item-cover").css({width:h,height:i,"float":"left",overflow:"hidden",display:"inline-block"}),$("#loiGalleryDisplay .item").each(function(a){var d=$(this).attr("data-imagesrc"),e=$(this).attr("data-title");if(b.push(this),c.push({imagesrc:d,title:e}),"none"==$(this).css("background-image")){var h="url('"+$(this).find("img").attr("src")+"')";$(this).css("background-image",h),$(this).empty()}$(this).attr("data-currentIndex",a),$($(this)).css({width:"100%",height:"100%","background-repeat":"no-repeat","background-position":"center","background-size":"cover",cursor:"pointer",display:"inline-block",opacity:1}),a>=f&&$(this).parent(".item-cover").hide(),a==$("#loiGalleryDisplay .item").length-1&&($("#loiGalleryDisplay .galleryPreloader").remove(),g=setInterval(p,5e3))})}function o(){var b=a.responsive;b.sort(function(a,b){return a.breakpoint-b.breakpoint});for(var c,g=0;g<b.length;g++)if($(window).width()+15<b[g].breakpoint){c=g;break}void 0==c?(d=parseInt(a.displayRows),e=parseInt(a.displayColumns),f=d*e):(d=parseInt(b[c].settings.displayRows),e=parseInt(b[c].settings.displayColumns),f=d*e)}function p(){var a=q(0,f-1),c=q(f,$("#loiGalleryDisplay .item").length-1);"fade"==j&&$(b[a]).animate({opacity:0},1e3,function(){for(var d=0;d<b[a].attributes.length;d++){var e=b[a].attributes[d].nodeName;if("class"!=e){var f=b[a].attributes[d].nodeValue,g=b[c].attributes[d].nodeValue;$(b[a]).attr(e,g),$(b[c]).attr(e,f)}}$(b[a]).css("opacity",0)}).animate({opacity:1},1e3,function(){$(this).css("opacity",1)})}function q(a,b){return Math.floor(Math.random()*(b-a+1))+a}function r(a,b,c){$("#loiGalleryDisplay .loiModal .preloader").css("display","block"),$("#loiGalleryDisplay .loiModal .header-cover, #loiGalleryDisplay .loiModal .next, #loiGalleryDisplay .loiModal .prev").css("display","none"),$("#loiGalleryDisplay .loiModal .content").find("img").remove(),$("#loiGalleryDisplay .loiModal .content").attr("data-currentIndex",c),$("#loiGalleryDisplay .loiModal .content").append("<img src='"+a+"'>"),$("#loiGalleryDisplay .loiModal .title").text(b),$("#loiGalleryDisplay .loiModal").fadeIn(500),$("#loiGalleryDisplay .loiModal .content img").on("load",function(){$("#loiGalleryDisplay .loiModal .preloader").css("display","none"),$("#loiGalleryDisplay .loiModal .header-cover, #loiGalleryDisplay .loiModal .next, #loiGalleryDisplay .loiModal .prev").css("display","block"),$("#loiGalleryDisplay .loiModal .content img").fadeIn(500),$("#loiGalleryDisplay .loiModal .title").css("width",s($("#loiGalleryDisplay .loiModal .content img")))})}function s(a){var b=a.width()/a.height();return a.height()+50>$(window).height()?(a.css("width",b*($(window).height()-50)),b*($(window).height()-50)):a.width()}var d,e,f,g,h,i,b=[],c=[],j="fade",k=">",l="<",m='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 500 500" xml:space="preserve" enable-background="new 0 0 500 500"><path d="M250 0c14 0 24 10 24 24v94c0 14-10 25-24 25s-25-11-25-25V24C225 10 236 0 250 0z" fill="#010002"/><path d="M137 53l55 76c12 16 0 39-20 39 -8 0-14-3-19-10L98 82c-8-11-6-26 5-34S129 42 137 53z" fill="#010002"/><path d="M28 204c-13-4-20-18-16-31s18-20 31-16l89 29c13 4 20 18 16 31 -3 10-14 17-24 17 -3 0-4-1-7-2L28 204z" fill="#010002"/><path d="M148 283c4 13-3 27-16 31l-89 29c-3 1-5 1-8 1 -10 0-20-7-23-17 -4-13 3-27 16-31l89-29C130 263 144 270 148 283z" fill="#010002"/><path d="M187 337c11 8 13 23 5 34l-55 76c-5 7-12 10-20 10 -20 0-31-23-19-39l55-76C161 331 176 329 187 337z" fill="#010002"/><path d="M250 357c14 0 24 11 24 25v93c0 14-10 25-24 25s-25-11-25-25v-93C225 368 236 357 250 357z" fill="#010002"/><path d="M347 342l55 76c12 16 0 39-20 39 -8 0-14-3-19-10l-55-76c-8-11-6-26 5-34S339 331 347 342z" fill="#010002"/><path d="M472 296c13 4 20 18 16 31 -3 10-14 17-24 17 -3 0-4 0-7-1l-89-29c-13-4-20-18-16-31s18-20 31-16L472 296z" fill="#010002"/><path d="M352 217c-4-13 3-27 16-31l89-29c13-4 27 3 31 16s-3 27-16 31l-89 28c-3 1-5 2-8 2C365 234 355 227 352 217z" fill="#010002"/><path d="M327 168c-20 0-31-23-19-39l55-76c8-11 23-13 34-5s13 23 5 34l-55 76C342 165 335 168 327 168z" fill="#010002"/></svg>';(null!=a.nextButton||void 0!=a.nextButton)&&(k=a.nextButton),(null!=a.prevButton||void 0!=a.prevButton)&&(l=a.prevButton),$("#loiGalleryDisplay").append("<div class='loiModal'><div class='content'><div class='next'>"+k+"</div><div class='prev'>"+l+"</div><div class='header-cover'><div class='header'><div class='title'></div><div class='close'>X Close</div></div></div></div><div class='layoutbackground'></div><div class='preloader'>"+m+"</div></div>"),null!=a.responsive||void 0!=a.responsive?o():(d=parseInt(a.displayRows),e=parseInt(a.displayColumns),f=d*e),n(),$(window).resize(function(){null!=a.responsive||void 0!=a.responsive?o():(d=parseInt(a.displayRows),e=parseInt(a.displayColumns),f=d*e),n()}),$("#loiGalleryDisplay .item-cover").on("click",function(){var a=$(this).find(".item").attr("data-imagesrc"),b=$(this).find(".item").attr("data-title"),c=$(this).find(".item").attr("data-currentIndex");r(a,b,c)}),$("#loiGalleryDisplay .loiModal .layoutbackground, #loiGalleryDisplay .loiModal .close ").on("click",function(){$("#loiGalleryDisplay .loiModal").fadeOut(500)}),$("#loiGalleryDisplay .loiModal .next, #loiGalleryDisplay .loiModal .prev").on("click",function(){var a=$(this).parent(".content").attr("data-currentIndex");$(this).hasClass("next")?c.length-1==$(this).parent(".content").attr("data-currentIndex")?a=0:a++:0==a?a=c.length-1:a--;var b=c[a].imagesrc,d=c[a].title;r(b,d,a)})}